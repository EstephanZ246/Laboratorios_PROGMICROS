


;UNIVERSIDAD DEL VALLE DE GUATEMALA
;PROGRAMACION DE MICROCONTROLADORES    
;FRANCISCO ESTEPHAN PORTALES OKRASSA
;CARNE: 19826
;PROYECTO 1
;ULTIMA MODIFICACION 03/04/2021
    
PROCESSOR 16F887
#include <xc.inc>
#include "MACROS_RUTINAS.s"

; CONFIG1
CONFIG  FOSC = INTRC_NOCLKOUT ; Oscillator Selection bits (INTOSCIO oscillator: I/O function on RA6/OSC2/CLKOUT pin, I/O function on RA7/OSC1/CLKIN)
CONFIG  WDTE = OFF            ; Watchdog Timer Enable bit (WDT disabled and can be enabled by SWDTEN bit of the WDTCON register)
CONFIG  PWRTE = ON            ; Power-up Timer Enable bit (PWRT enabled)
CONFIG  MCLRE = OFF           ; RE3/MCLR pin function select bit (RE3/MCLR pin function is digital input, MCLR internally tied to VDD)
CONFIG  CP = OFF              ; Code Protection bit (Program memory code protection is disabled)
CONFIG  CPD = OFF             ; Data Code Protection bit (Data memory code protection is disabled)
CONFIG  BOREN = OFF           ; Brown Out Reset Selection bits (BOR disabled)
CONFIG  IESO = OFF            ; Internal External Switchover bit (Internal/External Switchover mode is disabled)
CONFIG  FCMEN = OFF           ; Fail-Safe Clock Monitor Enabled bit (Fail-Safe Clock Monitor is disabled)
CONFIG  LVP = ON              ; Low Voltage Programming Enable bit (RB3/PGM pin has PGM function, low voltage programming enabled)

; CONFIG2
CONFIG  BOR4V = BOR40V        ; Brown-out Reset Selection bit (Brown-out Reset set to 4.0V)
CONFIG  WRT = OFF             ; Flash Program Memory Self Write Enable bits (Write protection off)
  
   
; CONSTANTES
    Z EQU 2
    C EQU 0
 
PSECT udata_bank0; common memory
    // VARIABLE PARA EL CAMBIO DE MODOS
    CAMBIOMODO: DS 1 ; CAMBIAR DE MODO
    
    // TIEMPOS CORRESPONDIENTES A VIA 1
    TIEMPOVIA1: DS 1
    CONFIG_TIEMPOVIA1: DS 1
    VERDETITILANTEVIA1: DS 1
    AMARILLOVIA1: DS 1
    VERDEVIA1: DS 1
    TEMP_TIEMPOVIA1: DS 1
    TEMP_VERDETITILANTEVIA1: DS 1
    TEMP_AMARILLOVIA1: DS 1
    TEMP_VERDEVIA1: DS 1
    
    // TIEMPOS CORRESPONDIENTES A VIA 2
    TIEMPOVIA2: DS 1
    CONFIG_TIEMPOVIA2: DS 1
    VERDETITILANTEVIA2: DS 1
    AMARILLOVIA2: DS 1
    VERDEVIA2: DS 1
    TEMP_TIEMPOVIA2: DS 1
    TEMP_VERDETITILANTEVIA2: DS 1
    TEMP_AMARILLOVIA2: DS 1
    TEMP_VERDEVIA2: DS 1
    
    // TIEMPOS CORRESPONDIENTES A VIA 3
    TIEMPOVIA3: DS 1
    CONFIG_TIEMPOVIA3: DS 1
    VERDETITILANTEVIA3: DS 1
    AMARILLOVIA3: DS 1
    VERDEVIA3: DS 1
    TEMP_TIEMPOVIA3: DS 1
    TEMP_VERDETITILANTEVIA3: DS 1
    TEMP_AMARILLOVIA3: DS 1
    TEMP_VERDEVIA3: DS 1
    
    
    // CONTADORES PARA LAS VIAS Y PARA MOSTRAR DATOS EN LOS DISPLAYS
    CONTADOR:DS 1
    CONTADOR_VIAS: DS 1
    CONTADOR_REINICIO: DS 1 // PENDIENTE DE VER SI ES UTIL
    CONTADOR_CONFIG: DS 1
    CONTADOR_CONFIG_UNIDAD: DS 1
    CONTADOR_CONFIG_DECENA: DS 1
    
    // VARIABLE PARA HACER TITILAR VERDE
    TITILANTE: DS 1
    
    //VARIABLES PARA ALMACENAR LOS RESULTADOS DE LAS RUTINAS BCD
    UNIDAD: DS 1
    DECENA: DS 1
    CENTENA: DS 1
    UNIDAD_TEMP: DS 1
    DECENA_TEMP: DS 1
    UNIDAD_TEMP_CONFIGURACION: DS 1
    DECENA_TEMP_CONFIGURACION: DS 1
    

    
    
// VARIABLES PARA ALMACENAR REGISTROS TEMPORALMENTE
PSECT udata_shr 
    W_TEMP:	    DS 1 // GUARDAR TEMPORALMENTE EL REGISTRO EN INTERRUPCION
    STATUS_TEMP:    DS 1 // GUARDAR TEMPORALMENTE EL REGISTRO EN INTERRUPCION
 ;_______________Vector Reset_________________
 
PSECT resVect, class=CODE, abs, delta=2
    ORG 00h		;posicion 0000h para el Reset
    resetVec:		; configuramos el vector de reset
	PAGESEL MAIN
	GOTO MAIN
     
PSECT intVect, class=CODE, abs, delta=2
    ORG 04h // AQUI ALMACENAMOS LA INTERRUPCION, INDIRECT DATA MEMORY ADDRESS POINTER
    
ALMACENAR_REGISTROS: // PUSH
    MOVWF W_TEMP
    SWAPF STATUS,W // ALMACENAR  REGISTROS EN VARIABLES TEMPORALES
    MOVWF STATUS_TEMP
    
EJECUTAR_INTERRUPCION://POP

;______________________________TIMER 0__________________________________________   
CAMBIARPORTD:
    BTFSS INTCON,2// T0IF BANDERA TIMER0
    GOTO INTPORTD // GOTO INTPORTD // SI NO ESTA ACTIVO LA BANDERA VAMOS A INTERRUPCION DE PORTB
    BCF STATUS,C	// INTERRUPCION PARA MULTIPLEXADO
    RLF PORTA
    CLRF PORTC
    BTFSS STATUS,0
    GOTO LIMPIARTIMER0
REINICIAR_VALOR_PORTA:	// CUANDO EL RLF LLEGA AL FINAL, LO REINICIAMOS
   MOVLW 0X01
   MOVWF PORTA

LIMPIARTIMER0:    
    REINICIAR_TMR0 // REINICIAMOS CONTADOR DEL TIMER0

 ;____________________________PORTB_____________________________________________  
INTPORTD:
    BTFSS INTCON,0//VERIFICAMOS RBIF BANDERA DEL PUERTO B  
    GOTO INTERRUPCION_TIMER1  /// INTERRUPCION PARA CAMBIAR DE MODOS
    BTFSC PORTB,0
    GOTO CAMBIAR_VALORES_DE_CONFIG
    MOVLW 0X01
    ADDWF PORTE // AUMENTAMOS VAMOR A PORTE
    
    CAMBIAR_VALORES_DE_CONFIG: // INTERRUPCION PARA AUMENTAR O DECREMENTAR VALOR DE CONFIGURACION
    BTFSS CAMBIOMODO,1 /// AUMENTO O DECREMENTO DE LA VIA 1
    GOTO $+9
    BTFSC PORTB,1
    GOTO $+3
    MOVLW 1
    ADDWF CONFIG_TIEMPOVIA1,F
    BTFSC PORTB,2
    GOTO $+3
    MOVLW 1
    SUBWF CONFIG_TIEMPOVIA1,F
    
    BTFSS CAMBIOMODO,2/// AUMENTO O DECREMENTO DE LA VIA 2
    GOTO $+9
    BTFSC PORTB,1
    GOTO $+3
    MOVLW 1
    ADDWF CONFIG_TIEMPOVIA2,F
    BTFSC PORTB,2
    GOTO $+3
    MOVLW 1
    SUBWF CONFIG_TIEMPOVIA2,F

    BTFSS CAMBIOMODO,3 /// AUMENTO O DECREMENTO DE LA VIA 3
    GOTO $+9
    BTFSC PORTB,1
    GOTO $+3
    MOVLW 1
    ADDWF CONFIG_TIEMPOVIA3,F
    BTFSC PORTB,2
    GOTO $+3
    MOVLW 1
    SUBWF CONFIG_TIEMPOVIA3,F
    
    
    REINICIARINTPORTB: 
    BCF INTCON,0//LIMPIARMOS BANDERA DEL PUERTOB
;_________________________TIMER1________________________________________________   
INTERRUPCION_TIMER1:
   BTFSS PIR1,0// VERIFICAMOS BANDERA
   GOTO RESTAURAR_REGISTROS // INTERRUPCION TIMER 1 PARA DISMINUIR VALOR DE CONTADORES DE CADA LED
   MOVLW 1
   XORWF TITILANTE // XOR PARA EL VERDE TITILANTE
   MOVLW 0
   SUBWF CONTADOR,F
   BTFSC STATUS,Z
   GOTO VIAS_PRINCIPALES
   MOVLW 1
   SUBWF CONTADOR//// AUMENTAMOS CADA SEGUNDO EL CONTADOR
   
   VIAS_PRINCIPALES:// INTERRUPCION TIMER 1 PARA DISMINUIR VALOR DE CONTADORES DE EL TIEMPO DE DISPLAYS
   MOVLW 0
   SUBWF CONTADOR_VIAS,F
   BTFSC STATUS,Z
   GOTO REINICIARVALORES_TMR1
   MOVLW 1
   SUBWF CONTADOR_VIAS//// AUMENTAMOS CADA SEGUNDO EL CONTADOR
   

   
REINICIARVALORES_TMR1:
   REINICIAR_TMR1 // RESTAURAMOS VALORES TIMER 1
    
RESTAURAR_REGISTROS://RETFIE
    SWAPF STATUS_TEMP,W // RECUPERAMOS REGISTROS SIN MODIFICAR BANDERAS
    MOVWF STATUS// RECUPERAMOS REGISTROS SIN MODIFICAR BANDERAS
    SWAPF W_TEMP,1// RECUPERAMOS REGISTROS SIN MODIFICAR BANDERAS
    SWAPF W_TEMP,W// RECUPERAMOS REGISTROS SIN MODIFICAR BANDERAS
    RETFIE// SALIMOS DE LA INTERRUPCION
    
PSECT code, delta=2, abs
ORG 100h //INICIAMOS CODIGO CON LAS TABLAS
 
TABLAS:
    CLRF PCLATH
    BSF PCLATH,0 // ESCOGER VALOR DE LAS TABLAS SEGUN CONTADORES
    ADDWF PCL ; PC+PCLATH + PCL + W
    ;     abcdefg      del display 7 segmentos
    RETLW 1111110B;0
    RETLW 0110000B;1
    RETLW 1101101B;2
    RETLW 1111001B;3
    RETLW 0110011B;4
    RETLW 1011011B;5 
    RETLW 1011111B;6
    RETLW 1110001B;7
    RETLW 1111111B;8
    RETLW 1110011B;9
   
CONFIGURAR_IO:
    BANKSEL ANSEL // SALIDA DIGITALES
    CLRF ANSEL// SALIDA DIGITALES
    CLRF ANSELH// SALIDA DIGITALES
    
    BANKSEL TRISA
    CLRF TRISA; SALIDA PARA CONFIGURACION TIEMPO DISPLAYS
    CLRF TRISC
    CLRF TRISD
    CLRF TRISE
    MOVLW 0X7F
    MOVWF TRISB

    BANKSEL PORTA // LIMPIAMOS PUERTOS
    CLRF PORTA
    CLRF PORTC
    CLRF PORTD
    CLRF PORTE
    RETURN
    
    
   CONFIGURAR_PULLUP:
 ; CONFIGURACIONES EN OPTION_REG
    BANKSEL OPTION_REG //ESCOGEMOS BANCO 3 O 1
    BCF OPTION_REG,7 //PORTB PULL-UP ENABLE BIT    
    
 ; IOCB   
    BANKSEL IOCB
    BSF IOCB,0; INTERRUPT-ON-CHANGE PORTB CONTROL BIT EN PORTB,0
    BSF IOCB,1; INTERRUPT-ON-CHANGE PORTB CONTROL BIT EN PORTB,1
    BSF IOCB,2; INTERRUPT-ON-CHANGE PORTB CONTROL BIT EN PORTB,2
    MOVF PORTB,W// AL LEER TERMINA CONDICION DE MISMATCH
  ; CONFIGURAR PULL UP EN BOTONES  
  
    BANKSEL WPUB
    BSF WPUB,0; CONFIGURAR PULL-UP PORTB,0 MODO
    BSF WPUB,1; CONFIGURAR PULL-UP PORTB,1 SUBIR
    BSF WPUB,2; CONFIGURAR PULL-UP PORTB,2 BAJAR
    BANKSEL PORTA // BANCO 0
    RETURN
    
    CONFIGURAR_INTERRUPCIONES:
    BANKSEL INTCON
    BSF INTCON,7//GIE
    BCF INTCON,0//RBIF ESTA ES LA BANDERA, LA LIMPIAMOS 
    BSF INTCON,3//RBIE HABILITA INTERRUPCION PORTB
    BSF INTCON,5//T0IE HABILITA INTERRUPCION TMR0
    BCF INTCON,0//RBIF ESTA ES LA BANDERA DE PORTB, LA LIMPIAMOS
    BCF INTCON,2//T0IF ESTA ES LA BANDERA DE TMR0
    BSF INTCON,6 // HABILITAMOS PERIPHERIAL INTERRUPT PARA TIMER 1 Y TIMER 2
    BANKSEL PIE1 // HABILITAMOS INTERRUPCI?N
    BSF PIE1,0 // TIMER1 OVERFLOW INTERRUPT
    BANKSEL PORTA
    RETURN

    
   CONFIGURAR_RELOJ:
    BANKSEL OSCCON// Seleccionamos el banco OSCCON 
    BCF OSCCON,6// IRCF2
    BCF OSCCON,5// IRCF1 Configuramos la velocidad a 125KHz
    BSF OSCCON,4// IRCF0
    BSF SCS//OSCCON,0 // SCS // Colocamos el oscilador interno como reloj del sistema
    BANKSEL PORTA // Vamos a banco 0
    RETURN
    
; ___________________________ Configuramos el prescaler_______________________
    CONFIGURAR_TMR0:
    BANKSEL TRISA // Vamos a banco 1
    BCF T0CS // Configuramos (Fosc/4)
    BCF PSA// PSA asignamos el prescaler al Timer0
    BSF PS2//
    BSF PS1// configuramos el prescaler a 1:128
    BCF PS0//
    BANKSEL PORTA// Vamos al banco 0
    REINICIAR_TMR0 // Reiniciamos el timer0 con la subrutina
    RETURN
    
    CONFIGURAR_TMR1:
    //PRESCALER
    BANKSEL T1CON
    BSF T1CON,5//T1CKPS1 // PRE 1:8
    BSF T1CON,4//T1CKPS0
    BCF T1CON,1//TMR1CS
    BSF T1CON,0//TMR1ON
    BANKSEL PORTA
    REINICIAR_TMR1
    RETURN
    
MAIN:
    // LAMAMOS CONFIGURACION
    CALL CONFIGURAR_IO 
    CALL CONFIGURAR_PULLUP
    CALL CONFIGURAR_RELOJ
    CALL CONFIGURAR_TMR0
    CALL CONFIGURAR_INTERRUPCIONES
    CALL CONFIGURAR_TMR1
    
    VALORES_INICIALES:// COLOCAMOS TODOS LOS VALORES INICIALES QUE NECESITAMOS
    BSF PORTA,0 // VALOR INICIAL A MULTIPLEXADO
    MOVLW 0X01 // COMENZAMOS EN EL MODO 1
    MOVWF PORTE
    
    MOVLW 10 // VALORES PREDETERMINADOS INICIALES PARA LAS VIAS 
    MOVWF TIEMPOVIA1
    MOVWF TIEMPOVIA2
    MOVWF TIEMPOVIA3
    MOVWF CONFIG_TIEMPOVIA1
    MOVWF CONFIG_TIEMPOVIA2
    MOVWF CONFIG_TIEMPOVIA3
    CLRW
    MOVLW 4
    MOVWF VERDEVIA1
    MOVWF VERDEVIA2
    MOVWF VERDEVIA3
    CLRW
    MOVLW 3
    MOVWF VERDETITILANTEVIA1
    MOVWF VERDETITILANTEVIA2
    MOVWF VERDETITILANTEVIA3
    MOVWF AMARILLOVIA1
    MOVWF AMARILLOVIA2
    MOVWF AMARILLOVIA3
    CALL REINICIO_DE_VALORES // PARAMOS EL VALOR DE VIA A LOS TEMPORALES
    

  
LOOP:
    
IMPRIMIR_VALORES_LCD:
    RUTINA_BCD// OBTENER DECIMAL PARA DISPLAYS DE VIAS
    RUTINA_BCD_CONFIG // OBTENER DECIMAL PARA DISPLAYS DE CONFIGURACION
    MODO_NORMAL  //// MUESTRA LOS VALORES CORRESPONDIENTES EN LOS DISPLAYS  
    CAMBIO_DE_MODOS // DEPENDE DEL VALOR DE PORTE CAMBIARA DE MODO
    

EJECUCION_DE_LOS_MODOS:   
    BTFSS CAMBIOMODO,0 // SEGUN EL VALOR DE LA VARIABLE "CAMBIOMODO" CAMBIARA DE MODO 1,2,3,4 O 5
    GOTO $+2
    GOTO MODO1
    BTFSS CAMBIOMODO,1
    GOTO $+2
    GOTO MODO2
    BTFSS CAMBIOMODO,2
    GOTO $+2
    GOTO MODO3
    BTFSS CAMBIOMODO,3
    GOTO $+2
    GOTO MODO4
    BTFSS CAMBIOMODO,4
    GOTO $+2
    GOTO MODO5
    
GOTO LOOP    
    
MODO1:
     MODO_NORMAL_SEMAFOROS // EN EL MODO 1 SE TRABAJA NORMAL, NO CONFIGURACION

GOTO LOOP
     
MODO2:
    MOVF CONFIG_TIEMPOVIA1,W // EN EL MODO 2 DESPLEGAMOS EL VALOR DE CONFIGURACION EN EL DISPLAY
    MOVWF CONTADOR_CONFIG
    
    //UNDERFLOW
    MOVLW 9			// AQUI VERIFICAMOS EL UNDERFLOW Y OVERFLOW
    SUBWF CONFIG_TIEMPOVIA1,W
    BTFSS STATUS,Z
    GOTO $+3
    MOVLW 20
    MOVWF CONFIG_TIEMPOVIA1
    //OVERFLOW
    MOVLW 21
    SUBWF CONFIG_TIEMPOVIA1,W
    BTFSS STATUS,Z
    GOTO $+3
    MOVLW 10
    MOVWF CONFIG_TIEMPOVIA1
     
    
    GOTO MODO1
MODO3:
    MOVF CONFIG_TIEMPOVIA2,W // EN EL MODO 2 DESPLEGAMOS EL VALOR DE CONFIGURACION EN EL DISPLAY
    MOVWF CONTADOR_CONFIG
    
    //UNDERFLOW
    MOVLW 9			// AQUI VERIFICAMOS EL UNDERFLOW Y OVERFLOW
    SUBWF CONFIG_TIEMPOVIA2,W
    BTFSS STATUS,Z
    GOTO $+3
    MOVLW 20
    MOVWF CONFIG_TIEMPOVIA2
    //OVERFLOW
    MOVLW 21
    SUBWF CONFIG_TIEMPOVIA2,W
    BTFSS STATUS,Z
    GOTO $+3
    MOVLW 10
    MOVWF CONFIG_TIEMPOVIA2
    
GOTO MODO1
MODO4:
    MOVF CONFIG_TIEMPOVIA3,W// EN EL MODO 2 DESPLEGAMOS EL VALOR DE CONFIGURACION EN EL DISPLAY
    MOVWF CONTADOR_CONFIG
    
    //UNDERFLOW
    MOVLW 9			// AQUI VERIFICAMOS EL UNDERFLOW Y OVERFLOW
    SUBWF CONFIG_TIEMPOVIA3,W
    BTFSS STATUS,Z
    GOTO $+3
    MOVLW 20
    MOVWF CONFIG_TIEMPOVIA3
    //OVERFLOW
    MOVLW 21
    SUBWF CONFIG_TIEMPOVIA3,W
    BTFSS STATUS,Z
    GOTO $+3
    MOVLW 10
    MOVWF CONFIG_TIEMPOVIA3

GOTO MODO1   
MODO5:
    
    BTFSC PORTB,1 // ACEPTAR // EN EL MODO 5 TENEMOS LA PARTE DE EFECTUAR LOS CAMBIOS ANTES HECHOS 
    GOTO CANCELAR	//      O SIMPLEMENTE CANCELARLOS Y NO EFECTUARLOS
    MOVF CONFIG_TIEMPOVIA1,W	// EN ESTA PARTE ACEPTAMOS
    MOVWF TIEMPOVIA1		// IMPLEMENTAMOS NUEVOS VALORES
    MOVLW 6
    SUBWF CONFIG_TIEMPOVIA1,F
    MOVF CONFIG_TIEMPOVIA1,W
    MOVWF VERDEVIA1
    
    MOVF CONFIG_TIEMPOVIA2,W
    MOVWF TIEMPOVIA2
    MOVLW 6
    SUBWF CONFIG_TIEMPOVIA2,F
    MOVF CONFIG_TIEMPOVIA2,W
    MOVWF VERDEVIA2
    
    MOVF CONFIG_TIEMPOVIA3,W
    MOVWF TIEMPOVIA3
    MOVLW 6
    SUBWF CONFIG_TIEMPOVIA3,F
    MOVF CONFIG_TIEMPOVIA3,W
    MOVWF VERDEVIA3
    
    MOVF TIEMPOVIA1,W
    MOVWF CONFIG_TIEMPOVIA1
    MOVF TIEMPOVIA2,W
    MOVWF CONFIG_TIEMPOVIA2
    MOVF TIEMPOVIA3,W
    MOVWF CONFIG_TIEMPOVIA3// REINICIAMOS CONTADORES Y VALORES TEMPORALES PARA OBLIGAR A VOLVER AL PROGRAMA A CARGAR LOS VALORES
    
    MOVLW 0XFF
    MOVWF PORTD
    BSF PORTB,7
    MOVLW 255
    MOVWF CONTADOR_REINICIO
    DECFSZ CONTADOR_REINICIO,F
    GOTO $-1
    MOVLW 255
    MOVWF CONTADOR_REINICIO
    DECFSZ CONTADOR_REINICIO,F
    GOTO $-1
    CLRF CONTADOR
    CLRF CONTADOR_VIAS
    CLRF CONTADOR_CONFIG
    CLRF TEMP_TIEMPOVIA1
    CLRF TEMP_VERDETITILANTEVIA1
    CLRF TEMP_AMARILLOVIA1
    CLRF TEMP_VERDEVIA1
    CLRF TEMP_TIEMPOVIA2
    CLRF TEMP_VERDETITILANTEVIA2
    CLRF TEMP_AMARILLOVIA2
    CLRF TEMP_VERDEVIA2
    CLRF TEMP_TIEMPOVIA3
    CLRF TEMP_VERDETITILANTEVIA3
    CLRF TEMP_AMARILLOVIA3
    CLRF TEMP_VERDEVIA3

    MOVLW 0X01
    MOVWF PORTE
    CANCELAR:		    // EN ESTA PARTE CANCELAMOS LOS CAMBIOS 
    BTFSC PORTB,2 // CANCELAR//      RESTAURAMOS VALOR ANTERIORES
    GOTO MODO1
    MOVF TIEMPOVIA1,W
    MOVWF CONFIG_TIEMPOVIA1
    MOVF TIEMPOVIA2,W
    MOVWF CONFIG_TIEMPOVIA2
    MOVF TIEMPOVIA2,W
    MOVWF CONFIG_TIEMPOVIA2
    CLRF CONTADOR_CONFIG

    MOVLW 0X01 // VOL
    MOVWF PORTE
    GOTO MODO1
    

REINICIO_DE_VALORES:
    RESTAURAR_VERDE:  // ESTA SUBRUTINA SE ENCARGA DE VOLVER A CARGAR TODOS LOS VALORES DE CONTADORES Y VIAS
    MOVF VERDEVIA1,W
    MOVWF TEMP_VERDEVIA1
    MOVF VERDEVIA2,W
    MOVWF TEMP_VERDEVIA2
    MOVF VERDEVIA2,W
    MOVWF TEMP_VERDEVIA2
    MOVF VERDEVIA3,W
    MOVWF TEMP_VERDEVIA3
    RESTAURAR_VERDETITILANTE:
    MOVF VERDETITILANTEVIA1,W
    MOVWF TEMP_VERDETITILANTEVIA1
    MOVF VERDETITILANTEVIA2,W
    MOVWF TEMP_VERDETITILANTEVIA2
    MOVF VERDETITILANTEVIA3,W
    MOVWF TEMP_VERDETITILANTEVIA3
    RESTAURAR_AMARILLO:
    MOVF AMARILLOVIA1,W
    MOVWF TEMP_AMARILLOVIA1
    MOVF AMARILLOVIA2,W
    MOVWF TEMP_AMARILLOVIA2
    MOVF AMARILLOVIA3,W
    MOVWF TEMP_AMARILLOVIA3
    RESTAURAR_VIAS:
    MOVF TIEMPOVIA1,W
    MOVWF TEMP_TIEMPOVIA1
    MOVF TIEMPOVIA2,W
    MOVWF TEMP_TIEMPOVIA2
    MOVF TIEMPOVIA3,W
    MOVWF TEMP_TIEMPOVIA3
    RETURN

    ASIGNAR_VALORES:
    
    RETURN
END


